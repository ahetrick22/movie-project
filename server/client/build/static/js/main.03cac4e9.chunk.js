(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,n){e.exports=n(330)},128:function(e,t,n){},330:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"fetchMovies",function(){return b}),n.d(a,"signup",function(){return v}),n.d(a,"signin",function(){return E}),n.d(a,"signout",function(){return j});n(128);var r=n(0),o=n.n(r),i=n(332),l=n(333),c=n(118),u=n(32),s=n(6),m=n(117),p=n(331),d=n(4),h=n(7),f=n(54),g=n.n(f),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){g.a.get("https://api.themoviedb.org/3/discover/movie?api_key=a50dd974dc6bceb5358b37229983facc&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=".concat(e)).then(function(e){t({type:"fetch_movies",payload:e.data})}).catch(function(e){console.log(e)})}},v=function(e,t){return function(n){g.a.post("http://localhost:5000/auth/signup",e).then(function(e){n({type:"auth_user",payload:e.data}),localStorage.setItem("token",e.data.token),localStorage.setItem("email",e.data.email),t()}).catch(function(e){n({type:"auth_error",payload:"Email in use"})})}},E=function(e,t){return function(n){g.a.post("http://localhost:5000/auth/signin",e).then(function(e){n({type:"auth_user",payload:e.data}),localStorage.setItem("token",e.data.token),localStorage.setItem("email",e.data.email),t()}).catch(function(e){n({type:"auth_error",payload:"Email in use"})})}},j=function(){return localStorage.removeItem("token"),localStorage.removeItem("email"),{type:"auth_user",payload:""}};function y(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  list-style: none;\n\n  li:first-child {\n    float: left;\n  }\n\n  li {\n    margin-left: 0.8em;\n    padding: 0.5em;\n  }\n\n  li a {\n    color: whitesmoke;\n  }\n"]);return y=function(){return e},e}function O(){var e=Object(s.a)(["\n  position: fixed;\n  z-index: 999;\n  background: hsl(0, 0%, 13%);\n  color: whitesmoke;\n  margin: 0;\n  width: 100%;\n  height: auto;\n  padding: 1.5em;\n  #logo {\n    position: relative;\n    float: left;\n    width: 150px;\n    height: auto;\n  }\n  a {\n    color: #fff;\n  }\n"]);return O=function(){return e},e}var x=Object(d.connect)(function(e){return{authenticated:e.auth.authenticated,email:e.auth.email}},a)(function(e){var t=e.authenticated,n=e.email,a=e.signout,r=function(){a()};return o.a.createElement(w,null,o.a.createElement("div",{id:"logo"},o.a.createElement(p.a,{to:"/"},"MovieFinder")),o.a.createElement(k,null,t?o.a.createElement(o.a.Fragment,null,o.a.createElement("li",null,n),o.a.createElement("li",null,o.a.createElement("a",{href:"#",onClick:r},"Sign Out"))):o.a.createElement(o.a.Fragment,null,o.a.createElement("li",null,o.a.createElement(m.a,{to:"/signup"},"Sign Up")),o.a.createElement("li",null,o.a.createElement(m.a,{to:"/signin"},"Sign In")))))}),w=h.a.div(O()),k=h.a.ul(y()),S=n(13),_=n(14),M=n(16),I=n(15),F=n(17),C=n(334);function A(){var e=Object(s.a)(["\n  padding-top: 90px;\n"]);return A=function(){return e},e}var P=function(e){function t(){return Object(S.a)(this,t),Object(M.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return o.a.createElement(U,null,this.props.children)}}]),t}(o.a.Component),z=Object(C.a)(Object(d.connect)(null,a)(P)),U=h.a.div(A()),J=n(8),B=n(123),N=n(33),R=n(73),q={authenticated:localStorage.getItem("token")||"",email:localStorage.getItem("email")||"",errorMessage:""},D=n(18),G=Object(J.combineReducers)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_movies":var n={results:[new R.b.Entity("movies")]},a=Object(R.a)(t.payload,n).entities.movies;return Object(N.a)({},a,e);default:return e}},total_pages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_movies":return t.payload.total_pages;default:return e}},form:D.reducer,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth_user":return Object(N.a)({},e,{authenticated:t.payload.token,email:t.payload.email});case"auth_error":return Object(N.a)({},e,{errorMessage:t.payload});default:return e}}}),H=n(52),K=n.n(H);function L(){var e=Object(s.a)(["\n  box-shadow: 0 0 30px white;\n  &:hover {\n    transform: scale(1.06);\n    transition-duration: 300ms;\n  }\n"]);return L=function(){return e},e}var Q=function(e){return o.a.createElement(m.a,{to:"/".concat(e.id)},o.a.createElement(K.a,{id:String(e.id)},o.a.createElement(T,{src:"".concat("http://image.tmdb.org/t/p/w185").concat(e.img),alt:e.title})))},T=h.a.img(L()),V=n(124),W=n.n(V),X=n(125),Y=n.n(X);function Z(){var e=Object(s.a)(["\n  border: 1px solid red;\n  margin: 1.5em auto;\n  padding: 1em;\n  min-height: 50px;\n  min-width: 100px;\n"]);return Z=function(){return e},e}function $(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  width: auto;\n  margin: 0 1.6em;\n\n  button.active {\n    border: 1px solid hsl(0, 0%, 13%);\n    color: hsl(0, 0%, 13%);\n    background: hsl(196, 82%, 60%);\n    border-radius: 4px;\n    padding: 0.3em;\n  }\n\n  button.page {\n    border-radius: 4px;\n    border: 1px solid hsl(196, 82%, 60%);\n    color: hsl(196, 82%, 60%);\n    background: hsl(0, 0%, 13%);\n    padding: 0.3em;\n    &:hover {\n      border: 1px solid hsl(0, 0%, 13%);\n      color: hsl(0, 0%, 13%);\n      background: hsl(196, 82%, 60%);\n      cursor: pointer;\n    }\n  }\n\n  li {\n    font-size: 0.8em;\n    list-style: none;\n    margin-right: 0.5em;\n    color: whitesmoke;\n  }\n\n  li:hover,\n  li:active {\n    color: hsl(196, 82%, 60%);\n    cursor: pointer;\n  }\n"]);return $=function(){return e},e}function ee(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  flex-wrap: wrap;\n  padding: 2em;\n  margin: 0 auto;\n"]);return ee=function(){return e},e}var te=function(e){function t(e){var n;return Object(S.a)(this,t),(n=Object(M.a)(this,Object(I.a)(t).call(this,e))).state={hasMoreItems:!0},n}return Object(F.a)(t,e),Object(_.a)(t,[{key:"loadItems",value:function(e){e<this.props.totalPages||0===this.props.totalPages?this.props.fetchMovies(e):this.setState({hasMoreItems:!1})}},{key:"render",value:function(){console.log(this.props);var e=Y.a.map(this.props.movies,function(e){return o.a.createElement(Q,{id:e.id,key:e.id,title:e.title,img:e.poster_path})});return o.a.createElement(r.Fragment,null,o.a.createElement(W.a,{loadMore:this.loadItems.bind(this),pageStart:0,hasMore:this.state.hasMoreItems},o.a.createElement(ae,null,e)))}}]),t}(r.Component);var ne=Object(d.connect)(function(e){return{movies:e.movies,totalPages:e.total_pages}},a)(te),ae=h.a.div(ee());h.a.ul($()),h.a.div(Z());function re(){var e=Object(s.a)(["\n  margin: 0 auto;\n  padding: 1.3em;\n  text-align: left;\n  width: 100%;\n  /* position: absolute;\n  left: -2%;\n  top: 30%; */\n  color: whitesmoke;\n  background: black;\n  text-shadow: 1px 1px black;\n"]);return re=function(){return e},e}function oe(){var e=Object(s.a)(["\n  background: hsl(0, 0%, 93%);\n  text-align: left;\n  padding: 1.5em 1em 0 1em;\n  display: flex;\n  /* align-items: center; */\n  font-size: 1.2em;\n  div#info {\n    margin-left: 20px;\n    width: 100%;\n    height: 180px;\n  }\n  div#infoAttr {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    align-content: center;\n    margin: 0.5em auto 1em 0;\n    color: hsl(0, 100%, 59%);\n    font-size: 0.7em;\n  }\n  div#infoAttr > p:not(.first) {\n    display: inline-block;\n    margin-left: 1.5em;\n  }\n\n  div#infoAttr > p:hover {\n    color: hsl(0, 100%, 72%);\n    cursor: pointer;\n  }\n  img {\n    position: relative;\n    top: -5rem;\n  }\n"]);return oe=function(){return e},e}function ie(){var e=Object(s.a)(["\n  position: relative;\n  padding-top: 70vh;\n  background: url(",") no-repeat;\n  background-position: relative;\n  object-fit: cover;\n  justify-content: center;\n  opacity: 0.8;\n"]);return ie=function(){return e},e}var le=function(e){function t(){return Object(S.a)(this,t),Object(M.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props.movie;return o.a.createElement(r.Fragment,null,o.a.createElement(ue,{backdrop:"".concat("http://image.tmdb.org/t/p/w1280").concat(e.backdrop_path)}),o.a.createElement(se,null,o.a.createElement(K.a,{id:String(e.id)},o.a.createElement(T,{src:"".concat("http://image.tmdb.org/t/p/w185").concat(e.poster_path),alt:"poster",style:{boxShadow:"0 5px 30px black"}})),o.a.createElement("div",{id:"info"},o.a.createElement("h1",null,e.title),o.a.createElement("div",{id:"infoAttr"},o.a.createElement("p",{className:"first"},e.release_date),o.a.createElement("p",null,e.vote_average,"/10")))),o.a.createElement(me,null,o.a.createElement("p",null,e.overview)))}}]),t}(r.Component);var ce=Object(d.connect)(function(e,t){return{movie:e.movies[t.match.params.id]}},a)(le),ue=h.a.div(ie(),function(e){return e.backdrop}),se=h.a.div(oe()),me=h.a.div(re()),pe=function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(M.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){n.props.signup(e,function(){n.props.history.push("/")})},n}return Object(F.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props.handleSubmit;return o.a.createElement("form",{onSubmit:e(this.onSubmit)},o.a.createElement("fieldset",null,o.a.createElement("label",null,"Email"),o.a.createElement(D.Field,{name:"email",type:"text",component:"input",autoComplete:"none"})),o.a.createElement("fieldset",null,o.a.createElement("label",null,"Password"),o.a.createElement(D.Field,{name:"password",type:"password",component:"input",autoComplete:"none"})),o.a.createElement("div",null,this.props.errorMessage),o.a.createElement("button",null,"Sign Up!"))}}]),t}(r.Component);var de=Object(J.compose)(Object(d.connect)(function(e){return{errorMessage:e.auth.errorMessage}},a),Object(D.reduxForm)({form:"signup"}))(pe),he=function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(M.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){n.props.signin(e,function(){n.props.history.push("/")})},n}return Object(F.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props.handleSubmit;return o.a.createElement("form",{onSubmit:e(this.onSubmit)},o.a.createElement("fieldset",null,o.a.createElement("label",null,"Email"),o.a.createElement(D.Field,{name:"email",type:"text",component:"input",autoComplete:"none"})),o.a.createElement("fieldset",null,o.a.createElement("label",null,"Password"),o.a.createElement(D.Field,{name:"password",type:"password",component:"input",autoComplete:"none"})),o.a.createElement("div",null,this.props.errorMessage),o.a.createElement("button",null,"Sign In!"))}}]),t}(r.Component);var fe=Object(J.compose)(Object(d.connect)(function(e){return{errorMessage:e.auth.errorMessage}},a),Object(D.reduxForm)({form:"signin"}))(he),ge=Object(J.createStore)(G,{},Object(J.applyMiddleware)(B.a));Object(u.render)(o.a.createElement(d.Provider,{store:ge},o.a.createElement(i.a,null,o.a.createElement(r.Fragment,null,o.a.createElement(x,null),o.a.createElement(z,null,o.a.createElement(l.a,null,o.a.createElement(c.a,{exact:!0,path:"/",component:ne}),o.a.createElement(c.a,{exact:!0,path:"/signup",component:de}),o.a.createElement(c.a,{exact:!0,path:"/signin",component:fe}),o.a.createElement(c.a,{exact:!0,path:"/:id",component:ce})))))),document.getElementById("root"))}},[[127,2,1]]]);
//# sourceMappingURL=main.03cac4e9.chunk.js.map